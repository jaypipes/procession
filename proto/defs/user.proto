syntax = "proto3";

package procession;

import "search.proto";
import "session.proto";
import "wrappers.proto";

// Basic information about a user of the system
message User {
    string uuid = 1;
    string email = 2;
    string display_name = 3;
    string slug = 4;
    uint32 generation = 100;
}

// RPC Request payload messages

message GetUserFields {
    StringValue uuid = 1;
    StringValue email = 2;
    StringValue display_name = 3;
    StringValue slug = 4;
}

message GetUserRequest {
    Session session = 1;
    GetUserFields search_fields = 2;
}

message SetUserFields {
    StringValue email = 2;
    StringValue display_name = 3;
}

message SetUserRequest {
    Session session = 1;
    GetUserFields search_fields = 2;
    SetUserFields user_fields = 3;
}

message SetUserResponse {
    User user = 1;
}

message ListUsersFilters {
    repeated string uuids = 1;
    repeated string display_names = 2;
    repeated string emails = 3;
}

message ListUsersRequest {
    Session session = 1;
    ListUsersFilters filters = 2;
    SearchOptions options = 3;
}
